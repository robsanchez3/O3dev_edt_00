/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/configmenu_screen/ConfigMenuViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <images/BitmapDatabase.hpp>

ConfigMenuViewBase::ConfigMenuViewBase() :
    updateItemCallback(this, &ConfigMenuViewBase::updateItemCallbackHandler),
    buttonCallback(this, &ConfigMenuViewBase::buttonCallbackHandler),
    flexButtonCallback(this, &ConfigMenuViewBase::flexButtonCallbackHandler)
{
    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    selectionBox.setPosition(342, 38, 116, 116);
    selectionBox.setColor(touchgfx::Color::getColorFromRGB(68, 68, 68));
    selectionBox.setBorderColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    selectionBox.setBorderSize(1);
    add(selectionBox);

    sl_position_1.setPosition(120, 277, 479, 80);
    sl_position_1.setHorizontal(true);
    sl_position_1.setCircular(false);
    sl_position_1.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    sl_position_1.setSwipeAcceleration(0);
    sl_position_1.setDragAcceleration(0);
    sl_position_1.setNumberOfItems(6);
    sl_position_1.setPadding(0, 0);
    sl_position_1.setSnapping(false);
    sl_position_1.setOvershootPercentage(0);
    sl_position_1.setDrawableSize(80, 0);
    sl_position_1.setDrawables(sl_position_1ListItems, updateItemCallback);
    add(sl_position_1);

    sl_position.setPosition(120, 184, 479, 80);
    sl_position.setHorizontal(true);
    sl_position.setCircular(false);
    sl_position.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    sl_position.setSwipeAcceleration(0);
    sl_position.setDragAcceleration(0);
    sl_position.setNumberOfItems(6);
    sl_position.setPadding(0, 0);
    sl_position.setSnapping(false);
    sl_position.setOvershootPercentage(0);
    sl_position.setDrawableSize(80, 0);
    sl_position.setDrawables(sl_positionListItems, updateItemCallback);
    add(sl_position);

    textArea1.setPosition(299, 101, 158, 78);
    textArea1.setColor(touchgfx::Color::getColorFromRGB(112, 66, 0));
    textArea1.setLinespacing(0);
    Unicode::snprintf(textArea1Buffer, TEXTAREA1_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_QV7R).getText());
    textArea1.setWildcard(textArea1Buffer);
    textArea1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_2Q3D));
    textArea1.setVisible(false);
    add(textArea1);

    sw_therapies.setPosition(0, 38, 5000, 114);
    sw_therapies.setHorizontal(true);
    sw_therapies.setCircular(false);
    sw_therapies.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    sw_therapies.setSwipeAcceleration(10);
    sw_therapies.setDragAcceleration(10);
    sw_therapies.setNumberOfItems(19);
    sw_therapies.setSelectedItemOffset(340);
    sw_therapies.setOvershootPercentage(0);
    sw_therapies.setDrawableSize(114, 0);
    sw_therapies.setDrawables(sw_therapiesListItems, updateItemCallback);
    sw_therapies.animateToItem(3, 0);
    add(sw_therapies);

    bt_cancel.setXY(10, 370);
    bt_cancel.setBitmaps(touchgfx::Bitmap(BITMAP_CANCELBUTTON_01_A_ID), touchgfx::Bitmap(BITMAP_CANCELBUTTON_01_B_ID));
    bt_cancel.setAction(buttonCallback);
    add(bt_cancel);

    bt_OK.setXY(690, 370);
    bt_OK.setBitmaps(touchgfx::Bitmap(BITMAP_ENTERBUTTON_02_A_ID), touchgfx::Bitmap(BITMAP_ENTERBUTTON_02_B_ID));
    bt_OK.setAction(buttonCallback);
    add(bt_OK);

    boxWithBorder1.setPosition(603, 189, 70, 164);
    boxWithBorder1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    boxWithBorder1.setBorderColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    boxWithBorder1.setBorderSize(2);
    add(boxWithBorder1);

    im_delete.setXY(608, 287);
    im_delete.setBitmap(touchgfx::Bitmap(BITMAP_DELETE_ID));
    add(im_delete);

    fb_clearButton.setBoxWithBorderPosition(0, 0, 70, 163);
    fb_clearButton.setBorderSize(5);
    fb_clearButton.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(0, 102, 153), touchgfx::Color::getColorFromRGB(0, 153, 204), touchgfx::Color::getColorFromRGB(0, 51, 102), touchgfx::Color::getColorFromRGB(51, 102, 153));
    fb_clearButton.setAlpha(0);
    fb_clearButton.setAction(flexButtonCallback);
    fb_clearButton.setPosition(603, 189, 70, 163);
    add(fb_clearButton);

    rb_shift_0.setXY(303, 388);
    rb_shift_0.setBitmaps(touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_CHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID));
    rb_shift_0.setSelected(false);
    rb_shift_0.setDeselectionEnabled(false);
    rb_group_shift.add(rb_shift_0);
    add(rb_shift_0);

    rb_shift_0_5.setXY(383, 388);
    rb_shift_0_5.setBitmaps(touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_CHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID));
    rb_shift_0_5.setSelected(false);
    rb_shift_0_5.setDeselectionEnabled(false);
    rb_group_shift.add(rb_shift_0_5);
    add(rb_shift_0_5);

    rb_shift_1.setXY(463, 388);
    rb_shift_1.setBitmaps(touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_CHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID));
    rb_shift_1.setSelected(false);
    rb_shift_1.setDeselectionEnabled(false);
    rb_group_shift.add(rb_shift_1);
    add(rb_shift_1);

    rb_shift_2.setXY(543, 388);
    rb_shift_2.setBitmaps(touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_CHECKED_ID), touchgfx::Bitmap(BITMAP_RADIO_BUTTON_UNCHECKED_ID));
    rb_shift_2.setSelected(false);
    rb_shift_2.setDeselectionEnabled(false);
    rb_group_shift.add(rb_shift_2);
    add(rb_shift_2);

    image1.setXY(203, 386);
    image1.setBitmap(touchgfx::Bitmap(BITMAP_ICON_SHIFT_ID));
    add(image1);

    ta_x0.setXY(310, 440);
    ta_x0.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ta_x0.setLinespacing(0);
    ta_x0.setTypedText(touchgfx::TypedText(T___SINGLEUSE_QXX9));
    add(ta_x0);

    ta_x0_5.setXY(380, 440);
    ta_x0_5.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ta_x0_5.setLinespacing(0);
    ta_x0_5.setTypedText(touchgfx::TypedText(T___SINGLEUSE_3RW3));
    add(ta_x0_5);

    ta_x1.setXY(470, 440);
    ta_x1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ta_x1.setLinespacing(0);
    ta_x1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_08E3));
    add(ta_x1);

    ta_x2.setXY(550, 440);
    ta_x2.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    ta_x2.setLinespacing(0);
    ta_x2.setTypedText(touchgfx::TypedText(T___SINGLEUSE_EYN8));
    add(ta_x2);
}

ConfigMenuViewBase::~ConfigMenuViewBase()
{

}

void ConfigMenuViewBase::setupScreen()
{
    sl_position_1.initialize();
    for (int i = 0; i < sl_position_1ListItems.getNumberOfDrawables(); i++)
    {
        sl_position_1ListItems[i].initialize();
    }
    sl_position.initialize();
    for (int i = 0; i < sl_positionListItems.getNumberOfDrawables(); i++)
    {
        sl_positionListItems[i].initialize();
    }
    sw_therapies.initialize();
    for (int i = 0; i < sw_therapiesListItems.getNumberOfDrawables(); i++)
    {
        sw_therapiesListItems[i].initialize();
    }
}

void ConfigMenuViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &bt_OK)
    {
        //OkClicked
        //When bt_OK clicked call virtual function
        //Call okClicked
        okClicked();
    }
    if (&src == &bt_cancel)
    {
        //CnlClicked
        //When bt_cancel clicked change screen to MainMenu
        //Go to MainMenu with no screen transition
        application().gotoMainMenuScreenNoTransition();
    }
}

void ConfigMenuViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &fb_clearButton)
    {
        //ClearClicked
        //When fb_clearButton clicked call virtual function
        //Call clearClicked
        clearClicked();
    }
}

void ConfigMenuViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &sl_position_1ListItems)
    {
        sl_position_1UpdateItem(sl_position_1ListItems[containerIndex], itemIndex);
    }

    if (items == &sl_positionListItems)
    {
        sl_positionUpdateItem(sl_positionListItems[containerIndex], itemIndex);
    }

    if (items == &sw_therapiesListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        sw_therapyContainer* cc = (sw_therapyContainer*)d;
        sw_therapiesUpdateItem(*cc, itemIndex);
    }
}
