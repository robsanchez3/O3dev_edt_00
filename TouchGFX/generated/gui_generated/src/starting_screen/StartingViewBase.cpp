/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/starting_screen/StartingViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

StartingViewBase::StartingViewBase() :
    buttonCallback(this, &StartingViewBase::buttonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    si_logo.setBitmap(touchgfx::Bitmap(BITMAP_OZONE_01_ID));
    si_logo.setPosition(201, 307, 400, 154);
    si_logo.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    add(si_logo);

    si_molecule.setXY(274, 48);
    si_molecule.setBitmap(touchgfx::Bitmap(BITMAP_MOLECULAO2_ID));
    si_molecule.setAlpha(0);
    add(si_molecule);

    tm_molecule.setXY(274, 48);
    tm_molecule.setBitmap(touchgfx::Bitmap(BITMAP_MOLECULAO2_ID));
    tm_molecule.setWidth(253);
    tm_molecule.setHeight(253);
    tm_molecule.setBitmapPosition(0.0f, 0.0f);
    tm_molecule.setScale(1.0f);
    tm_molecule.setCameraDistance(1000.0f);
    tm_molecule.setOrigo(126.5f, 126.5f, 1000.0f);
    tm_molecule.setCamera(126.5f, 126.5f);
    tm_molecule.setAngles(0.0f, 0.0f, 0.0f);
    tm_molecule.setRenderingAlgorithm(touchgfx::TextureMapper::NEAREST_NEIGHBOR);
    add(tm_molecule);

    lp_tout.setXY(684, 128);
    lp_tout.setProgressIndicatorPosition(0, 0, 92, 5);
    lp_tout.setRange(0, 100, 100, 0);
    lp_tout.setBackground(touchgfx::Bitmap(BITMAP_TOUT_BAR_95_5_ID));
    lp_toutPainter.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    lp_tout.setPainter(lp_toutPainter);
    lp_tout.setStart(100, 0);
    lp_tout.setEnd(0, 0);
    lp_tout.setLineWidth(12);
    lp_tout.setLineEndingStyle(touchgfx::Line::SQUARE_CAP_ENDING);
    lp_tout.setValue(0);
    add(lp_tout);

    bt_settings.setXY(680, 20);
    bt_settings.setBitmaps(touchgfx::Bitmap(BITMAP_SETTINGS_100_A_ID), touchgfx::Bitmap(BITMAP_SETTINGS_100_B_ID));
    bt_settings.setAction(buttonCallback);
    add(bt_settings);
}

StartingViewBase::~StartingViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void StartingViewBase::setupScreen()
{

}

void StartingViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &bt_settings)
    {
        //settingsClicked1
        //When bt_settings clicked change screen to Calibration
        //Go to Calibration with no screen transition
        application().gotoCalibrationScreenNoTransition();
        //settingsClicked2
        //When bt_settings clicked call virtual function
        //Call settingsClicked
        settingsClicked();
    }
}
